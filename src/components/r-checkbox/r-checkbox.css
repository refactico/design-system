@import './r-checkbox-theme.css';

/* r-checkbox.css - Styles for r-checkbox component */
:host {
  display: inline-block;
}

.checkbox-container {
  display: flex;
  flex-direction: column;
  gap: var(--checkbox-helper-gap, 0.25rem);
}

.checkbox-wrapper {
  display: flex;
  align-items: flex-start;
  gap: var(--checkbox-gap, 0.75rem);
  cursor: pointer;
  user-select: none;
}

.checkbox-wrapper:has(.checkbox-input:disabled) {
  cursor: not-allowed;
}

.checkbox-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.checkbox-checkmark {
  position: relative;
  width: var(--checkbox-size, 1.25rem);
  height: var(--checkbox-size, 1.25rem);
  border: var(--checkbox-border-width, 2px) solid var(--checkbox-border-color, var(--border-primary));
  border-radius: var(--checkbox-border-radius, var(--radius-sm));
  background: var(--checkbox-bg, var(--bg-primary));
  transition: all var(--transition-base);
  flex-shrink: 0;
}

.checkbox-input:checked + .checkbox-checkmark {
  background: var(--checkbox-checked-bg, var(--color-primary, #2563eb));
  border-color: var(--checkbox-checked-border-color, var(--color-primary, #2563eb));
}

.checkbox-input:checked + .checkbox-checkmark::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: var(--checkbox-check-width, 0.375rem);
  height: var(--checkbox-check-height, 0.75rem);
  border: solid var(--checkbox-check-color, #ffffff);
  border-width: 0 2px 2px 0;
  transform: translate(-50%, -60%) rotate(45deg);
}

.checkbox-input:focus + .checkbox-checkmark {
  outline: 2px solid var(--checkbox-focus-color, var(--color-primary, #2563eb));
  outline-offset: 2px;
}

.checkbox-input:hover:not(:disabled) + .checkbox-checkmark {
  border-color: var(--checkbox-hover-border-color, var(--border-tertiary));
}

.checkbox-input:disabled + .checkbox-checkmark {
  background: var(--checkbox-disabled-bg, var(--bg-disabled));
  border-color: var(--checkbox-disabled-border-color, var(--border-disabled));
  opacity: var(--checkbox-disabled-opacity, 0.5);
}

.checkbox-input:disabled:checked + .checkbox-checkmark {
  background: var(--checkbox-disabled-checked-bg, #9ca3af);
  border-color: var(--checkbox-disabled-checked-border-color, #9ca3af);
}

.checkbox-label {
  font-size: var(--checkbox-label-font-size, var(--font-size-sm));
  font-weight: var(--checkbox-label-font-weight, var(--font-weight-medium));
  color: var(--checkbox-label-color, var(--text-primary));
  line-height: var(--checkbox-label-line-height, var(--line-height-tight));
  margin-top: var(--checkbox-label-margin-top, var(--spacing-xs));
}

.checkbox-wrapper:has(.checkbox-input:disabled) .checkbox-label {
  color: var(--checkbox-disabled-label-color, var(--text-disabled));
}

.required {
  color: var(--color-danger, #ef4444);
  margin-left: var(--checkbox-required-margin-left, 0.25rem);
}

.checkbox-helper {
  font-size: var(--checkbox-helper-font-size, var(--font-size-xs));
  color: var(--checkbox-helper-color, var(--text-secondary));
  margin-left: calc(var(--checkbox-size, 1.25rem) + var(--checkbox-gap, 0.75rem));
}

.checkbox-helper.error {
  color: var(--color-danger, #ef4444);
}

/* Size variants */
:host(.size-sm) {
  --checkbox-size: 1rem;
  --checkbox-gap: 0.5rem;
  --checkbox-label-font-size: 0.75rem;
}

:host(.size-md) {
  --checkbox-size: 1.25rem;
  --checkbox-gap: 0.75rem;
  --checkbox-label-font-size: 0.875rem;
}

:host(.size-lg) {
  --checkbox-size: 1.5rem;
  --checkbox-gap: 1rem;
  --checkbox-label-font-size: 1rem;
}

/* Indeterminate state */
.checkbox-input:indeterminate + .checkbox-checkmark {
  background: var(--checkbox-checked-bg, var(--color-primary, #2563eb));
  border-color: var(--checkbox-checked-border-color, var(--color-primary, #2563eb));
}

.checkbox-input:indeterminate + .checkbox-checkmark::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: calc(var(--checkbox-size, 1.25rem) * 0.4);
  height: 2px;
  background: var(--checkbox-check-color, #ffffff);
  transform: translate(-50%, -50%);
  border: none;
}