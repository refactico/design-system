:host {
  display: block;
  width: 100%;

  /* Component tokens (PRIVATE - do not override directly) */
  /* These reference semantic tokens (--r-*) which CAN be customized */
  --r-internal-checkbox-padding-x: var(--r-spacing-4);
  --r-internal-checkbox-padding-y: var(--r-spacing-3);
  --r-internal-checkbox-border-radius: var(--r-border-radius-base);
  --r-internal-checkbox-font-size: var(--r-typography-font-size-base);
  --r-internal-checkbox-border-color: var(--r-border-color);
  --r-internal-checkbox-border-focus: var(--r-color-primary);
}

/* Map component tokens to Ionic checkbox/item variables when formField is true */
r-checkbox ion-item {
  --padding-start: var(--r-internal-checkbox-padding-x);
  --padding-end: var(--r-internal-checkbox-padding-x);
  --padding-top: var(--r-internal-checkbox-padding-y);
  --padding-bottom: var(--r-internal-checkbox-padding-y);
  /* Make background transparent to inherit from parent */
  --background: transparent;
  --ion-item-background: transparent;
  background: transparent;
}

r-checkbox ion-label {
  margin-bottom: var(--r-spacing-2, 8px);
}

r-checkbox ion-checkbox {
  font-size: var(--r-internal-checkbox-font-size);
  margin-top: var(--r-spacing-2, 8px);
  --size: 20px;
  --background-checked: var(--r-color-primary) !important;
  --border-color-checked: var(--r-color-primary) !important;
  --checkmark-color: var(--r-color-primary-contrast, #fff) !important;
  --checkmark-width: 2px;
  --color: var(--checkmark-color, #fff) !important;
}

/* Standalone checkbox styling */
r-checkbox:not([form-field]) ion-checkbox {
  margin: var(--r-spacing-2, 8px) 0;
}

/* Focus state uses our border focus color */
r-checkbox ion-item.item-has-focus {
  --border-color: var(--r-internal-checkbox-border-focus);
}

/* Error state uses our error color */
r-checkbox ion-item.item-has-error {
  --border-color: var(--r-color-danger);
}

/* When checked, ensure background and checkmark are visible with higher specificity */
r-checkbox ion-checkbox.checkbox-checked,
r-checkbox ion-checkbox[checked],
r-checkbox ion-checkbox.checkbox-checked::part(container),
r-checkbox ion-checkbox[checked]::part(container) {
  --background: var(--background-checked, var(--r-color-primary)) !important;
  --background-checked: var(--r-color-primary) !important;
  --color: var(--checkmark-color, #fff) !important;
  --checkmark-color: var(--r-color-primary-contrast, #fff) !important;
}

